{"ast":null,"code":"import nodemailer from 'nodemailer';\nimport sgTransport from 'nodemailer-sendgrid-transport';\nconst transporter = {\n  auth: {\n    // Use SendGrid API key \n    api_key: '###'\n  }\n};\nconst mailer = nodemailer.createTransport(sgTransport(transporter));\nexport default (async (req, res) => {\n  console.log(req.body);\n  const {\n    name,\n    email,\n    number,\n    subject,\n    text\n  } = req.body;\n  const data = {\n    to: 'yourdomain@gmail.com',\n    from: email,\n    subject: 'Hi there',\n    text: text,\n    html: `\n            <b>From:</b> ${name} <br /> \n            <b>Number:</b> ${number} <br /> \n            <b>Subject:</b> ${subject} <br /> \n            <b>Text:</b> ${text} \n        `\n  };\n\n  try {\n    const response = await mailer.sendMail(data);\n    console.log(response);\n    res.status(200).send(\"Email send successfully\");\n  } catch (error) {\n    console.log(error);\n    res.status(500).send(\"Error proccessing charge\");\n  }\n});","map":null,"metadata":{},"sourceType":"module"}